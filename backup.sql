--
-- PostgreSQL database dump
--

\restrict EjSh7eVfBZz1bjLUF5XdVcENL1grM2QGcd1caInMrxHVQi780HPDT1keZKf5wYg

-- Dumped from database version 16.11 (Debian 16.11-1.pgdg13+1)
-- Dumped by pg_dump version 16.11 (Debian 16.11-1.pgdg13+1)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: problems; Type: TABLE; Schema: public; Owner: testuser
--

CREATE TABLE public.problems (
    id bigint NOT NULL,
    description text NOT NULL,
    title character varying(255) NOT NULL
);


ALTER TABLE public.problems OWNER TO testuser;

--
-- Name: problems_id_seq; Type: SEQUENCE; Schema: public; Owner: testuser
--

ALTER TABLE public.problems ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.problems_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: submissions; Type: TABLE; Schema: public; Owner: testuser
--

CREATE TABLE public.submissions (
    id bigint NOT NULL,
    code text NOT NULL,
    error_message text,
    execution_time_ms bigint,
    language character varying(255) NOT NULL,
    output text,
    status character varying(255) NOT NULL,
    submitted_at timestamp(6) without time zone,
    problem_id bigint NOT NULL,
    user_id bigint NOT NULL,
    CONSTRAINT submissions_language_check CHECK (((language)::text = ANY ((ARRAY['PYTHON'::character varying, 'JAVASCRIPT'::character varying, 'CPP'::character varying])::text[]))),
    CONSTRAINT submissions_status_check CHECK (((status)::text = ANY ((ARRAY['PENDING'::character varying, 'ACCEPTED'::character varying, 'WRONG_ANSWER'::character varying, 'RUNTIME_ERROR'::character varying, 'TIME_LIMIT_EXCEEDED'::character varying, 'COMPILATION_ERROR'::character varying])::text[])))
);


ALTER TABLE public.submissions OWNER TO testuser;

--
-- Name: submissions_id_seq; Type: SEQUENCE; Schema: public; Owner: testuser
--

ALTER TABLE public.submissions ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.submissions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: test_cases; Type: TABLE; Schema: public; Owner: testuser
--

CREATE TABLE public.test_cases (
    id bigint NOT NULL,
    expected_output text NOT NULL,
    input text NOT NULL,
    problem_id bigint NOT NULL
);


ALTER TABLE public.test_cases OWNER TO testuser;

--
-- Name: test_cases_id_seq; Type: SEQUENCE; Schema: public; Owner: testuser
--

ALTER TABLE public.test_cases ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.test_cases_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: users; Type: TABLE; Schema: public; Owner: testuser
--

CREATE TABLE public.users (
    id bigint NOT NULL,
    created_at timestamp(6) without time zone,
    email character varying(255) NOT NULL,
    password character varying(255) NOT NULL,
    role character varying(255) NOT NULL,
    updated_at timestamp(6) without time zone,
    username character varying(50) NOT NULL,
    CONSTRAINT users_role_check CHECK (((role)::text = ANY ((ARRAY['USER'::character varying, 'ADMIN'::character varying])::text[])))
);


ALTER TABLE public.users OWNER TO testuser;

--
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: testuser
--

ALTER TABLE public.users ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.users_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Data for Name: problems; Type: TABLE DATA; Schema: public; Owner: testuser
--

COPY public.problems (id, description, title) FROM stdin;
1	Write a program that reads a string from input and prints it back.\n\nExample:\nInput: Hello World\nOutput: Hello World	Hello World
2	Read two integers from input (one per line) and print their sum.\n\nExample:\nInput:\n5\n3\nOutput: 8	Sum of Two Numbers
3	Read a string from input and print it reversed.\n\nExample:\nInput: hello\nOutput: olleh	Reverse String
4	Read two integers (one per line) and print their sum.	Sum of Two Numbers
\.


--
-- Data for Name: submissions; Type: TABLE DATA; Schema: public; Owner: testuser
--

COPY public.submissions (id, code, error_message, execution_time_ms, language, output, status, submitted_at, problem_id, user_id) FROM stdin;
1	print(input())	\N	1205	PYTHON	Coding Website	ACCEPTED	2025-12-07 23:53:06.751701	1	3
2	const readline = require("readline"); const rl = readline.createInterface({input: process.stdin}); rl.on("line", (line) => { console.log(line); rl.close(); });	\N	1090	JAVASCRIPT	Coding Website	ACCEPTED	2025-12-07 23:53:37.081722	1	3
3	#include <iostream>\n#include <string>\nusing namespace std;\nint main() {\n    string line;\n    getline(cin, line);\n    cout << line;\n    return 0;\n}	\N	1715	CPP	Coding Website	ACCEPTED	2025-12-07 23:54:00.768833	1	3
\.


--
-- Data for Name: test_cases; Type: TABLE DATA; Schema: public; Owner: testuser
--

COPY public.test_cases (id, expected_output, input, problem_id) FROM stdin;
1	Hello World	Hello World	1
2	Coding Website	Coding Website	1
3	8	5\n3	2
4	30	10\n20	2
5	0	-5\n5	2
6	olleh	hello	3
7	gnidoc	coding	3
8	a	a	3
9	8	5\n3	4
10	30	10\n20	4
\.


--
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: testuser
--

COPY public.users (id, created_at, email, password, role, updated_at, username) FROM stdin;
1	2025-11-29 02:57:55.245012	timezone@test.com	$2a$10$Moo/cX0sQzkjpRBDgrkmiOtPxxyX22fToHWC1Z0hZAyRbXjUY0koW	USER	2025-11-29 02:57:55.245012	timezone_test
2	2025-11-29 02:59:48.953649	timezone@abc.com	$2a$10$jgRZdqWb8Tsm2K4bcrniee2x6jJEjDdxwJR1hl63T8YDuQqmv3uFC	USER	2025-11-29 02:59:48.953649	timezoneeeeee
3	2025-12-07 22:46:17.278777	test1@example.com	$2a$10$aH67pTnBvLM.abnxqfea/e4UZifPd9ZOvRXtoqb8cvzPkJAsKTaGC	USER	2025-12-07 22:46:17.278777	testuser1
5	2025-12-07 23:00:37.157376	test@example.com	$2a$10$lQZESFeyuylr2//DbD8RoOqTAgMT9hwkgDI44H3gbvu.QA4NyzoLC	USER	2025-12-07 23:00:37.157376	testuser
4	2025-12-07 22:52:17.278748	tholazdo@gmail.com	$2a$10$2ZearP2DF67N2tcocBcCauQrS1sGSDlm/6.YyeWnqfJKmqBVsRY8u	ADMIN	2025-12-07 22:52:17.278748	trantho123
\.


--
-- Name: problems_id_seq; Type: SEQUENCE SET; Schema: public; Owner: testuser
--

SELECT pg_catalog.setval('public.problems_id_seq', 4, true);


--
-- Name: submissions_id_seq; Type: SEQUENCE SET; Schema: public; Owner: testuser
--

SELECT pg_catalog.setval('public.submissions_id_seq', 3, true);


--
-- Name: test_cases_id_seq; Type: SEQUENCE SET; Schema: public; Owner: testuser
--

SELECT pg_catalog.setval('public.test_cases_id_seq', 10, true);


--
-- Name: users_id_seq; Type: SEQUENCE SET; Schema: public; Owner: testuser
--

SELECT pg_catalog.setval('public.users_id_seq', 5, true);


--
-- Name: problems problems_pkey; Type: CONSTRAINT; Schema: public; Owner: testuser
--

ALTER TABLE ONLY public.problems
    ADD CONSTRAINT problems_pkey PRIMARY KEY (id);


--
-- Name: submissions submissions_pkey; Type: CONSTRAINT; Schema: public; Owner: testuser
--

ALTER TABLE ONLY public.submissions
    ADD CONSTRAINT submissions_pkey PRIMARY KEY (id);


--
-- Name: test_cases test_cases_pkey; Type: CONSTRAINT; Schema: public; Owner: testuser
--

ALTER TABLE ONLY public.test_cases
    ADD CONSTRAINT test_cases_pkey PRIMARY KEY (id);


--
-- Name: users uk6dotkott2kjsp8vw4d0m25fb7; Type: CONSTRAINT; Schema: public; Owner: testuser
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT uk6dotkott2kjsp8vw4d0m25fb7 UNIQUE (email);


--
-- Name: users ukr43af9ap4edm43mmtq01oddj6; Type: CONSTRAINT; Schema: public; Owner: testuser
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT ukr43af9ap4edm43mmtq01oddj6 UNIQUE (username);


--
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: testuser
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- Name: submissions fk760bgu69957phd7hax608jdms; Type: FK CONSTRAINT; Schema: public; Owner: testuser
--

ALTER TABLE ONLY public.submissions
    ADD CONSTRAINT fk760bgu69957phd7hax608jdms FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- Name: submissions fkj5kbdqokftgx992cx24x3s583; Type: FK CONSTRAINT; Schema: public; Owner: testuser
--

ALTER TABLE ONLY public.submissions
    ADD CONSTRAINT fkj5kbdqokftgx992cx24x3s583 FOREIGN KEY (problem_id) REFERENCES public.problems(id);


--
-- Name: test_cases fktddrw6qnmvhxky105cag980j3; Type: FK CONSTRAINT; Schema: public; Owner: testuser
--

ALTER TABLE ONLY public.test_cases
    ADD CONSTRAINT fktddrw6qnmvhxky105cag980j3 FOREIGN KEY (problem_id) REFERENCES public.problems(id);


--
-- PostgreSQL database dump complete
--

\unrestrict EjSh7eVfBZz1bjLUF5XdVcENL1grM2QGcd1caInMrxHVQi780HPDT1keZKf5wYg

